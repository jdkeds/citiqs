!function (o) {
  o.fn.translate = function (e) {
    var r = this
      , n = {
        css: "[data-trans]",
        lang: "en"
      }
      , a = (n = o.extend(n, e || {})).t;
    return this.lang = function (e) {
      return e && (n.lang = e,
        this.translate(n)),
        n.lang
    }
      ,
      this.get = function (t) {
        var e = t;
        try {
          e = a[t][n.lang]
        } catch (e) {
          return t
        }
        return e || t
      }
      ,
      this.find(n.css).each(function (e) {
        var t = o(this).attr("data-trn-key");
        o(this).attr("data-trn-key") || (t = o(this).html().trim(),
          o(this).attr("data-trn-key", t)),
          o(this).html(r.get(t));
        var n = o(this).attr("placeholder");
        if (void 0 !== n && !1 !== n) {
          var a = o(this).attr("placeholder-trn-key");
          o(this).attr("placeholder-trn-key") || (a = o(this).attr("placeholder"),
            o(this).attr("placeholder-trn-key", a)),
            o(this).attr("placeholder", r.get(a))
        }
      }),
      this
  }
}(jQuery);
var translator = ""
  , mobileSelected = "";
function validation() {
  $("body").find("[pattern]").each(function () {
    $(this).bind("input propertychange", function () {
      new RegExp($(this).attr("pattern")).test($(this).val()) || $(this).val($(this).val().slice(0, this.selectionStart - 1) + $(this).val().slice(this.selectionStart, $(this).val().length))
    })
  }),
    $("#card_cardnumber").bind("input propertychange", function () {
      /^3[47][\d\s]*$/g.test($(this).val()) ? $("#card_cvc").attr("placeholder", "0000").attr("pattern", "^\\d{0,4}$") : $("#card_cvc").attr("placeholder", "000").attr("pattern", "^\\d{0,3}$")
    })
}
function translation() {
  translator = $("body").translate({
    lang: "nl",
    t: dict
  }),
    $(".language a").click(function () {
      return $(".language .menu").toggleClass("hidden"),
        !1
    }),
    $(document).click(function () {
      $(".language .menu").addClass("hidden")
    }),
    $(".language .menu li").click(function () {
      var e = $(this).html();
      return translator.lang(e.toLowerCase()),
        $(".language .menu").addClass("hidden"),
        $(".language .menu li").removeClass("selected"),
        $(this).addClass("selected"),
        $(".selectedLanguage").html(e),
        !1
    })
}

$(document).ready(function () {
  $('.dropdownn').select2();
});
function paymentMethods() {
  $(".payment-container.methods a").click(function () {
    var e = $(this).attr("data-payment-type");
    "giftcard" !== e && ($(".method-" + e).removeClass("hidden"),
      $(".mobile-menu").addClass("hidden"),
      $(".btn-cancel, .btn-back").toggleClass("hidden"),
      $(".payment-container.methods").addClass("hidden"),
      $(".bar-title").html($(".method-" + e + " .title").html()))
  }),
    $(".btn-back").click(function () {
      $(".btn-cancel, .btn-back").toggleClass("hidden"),
        $(".mobile-menu").removeClass("hidden"),
        $(".payment-container.methods").removeClass("hidden"),
        $(".method").addClass("hidden"),
        $(".bar-title").html($(".bar-title-original").html())
    }),
    $(".method-in3 form").submit(function () {
      return $(".method").addClass("hidden"),
        $(".btn-cancel, .btn-back").toggleClass("hidden"),
        $(".paymentMethod.method-ideal").click(),
        !1
    })
}
function dropdowns() {
  $(".dropdownn").select2()
}
function mobileMenu() {
  $(".button.shopping-cart").click(function () {
    $(".mobile-content").hasClass("closed") || "shopping" === mobileSelected ? mobileMenuShowShoppingCard() : ($(".mobile-content").addClass("closed"),
      setTimeout(function () {
        mobileMenuShowShoppingCard()
      }, 300))
  }),
    $(".button.giftcards").click(function () {
      $(".mobile-content").hasClass("closed") || "giftcards" === mobileSelected ? mobileMenuShowGiftCards() : ($(".mobile-content").addClass("closed"),
        setTimeout(function () {
          mobileMenuShowGiftCards()
        }, 300))
    }),
    $(".mobile-container-heading").click(function () {
      $(".mobile-menu .button").removeClass("selected"),
        $(".mobile-content").addClass("closed")
    })
}
function mobileMenuShowShoppingCard() {
  $(".mobile-container-heading .text").html($(".button.shopping-cart span").text()),
    $(".mobile-container-pre-content").html(""),
    $(".mobile-container-content").html($(".order-details").prop("outerHTML")),
    $(".mobile-content").toggleClass("closed"),
    mobileSelected = "shopping",
    $(".mobile-menu .button").removeClass("selected"),
    $(".mobile-content").hasClass("closed") || $(".button.shopping-cart").addClass("selected")
}
function mobileMenuShowGiftCards() {
  $(".mobile-container-heading .text").html($(".button.giftcards span").text()),
    $(".mobile-container-pre-content").html($(".giftcard-content .giftcard-logos").prop("outerHTML")),
    $(".mobile-container-content").html($(".giftcard-content .content-inner").html()),
    $(".mobile-content").toggleClass("closed"),
    mobileSelected = "giftcards",
    $(".mobile-menu .button").removeClass("selected"),
    $(".mobile-content").hasClass("closed") || $(".button.giftcards").addClass("selected"),
    giftcardApiFunctionality()
}
function giftcards() {
  $(".payment-container a.method-giftcard").click(function (e) {
    return $(".giftcard-outer").removeClass("hidden"),
      $(".giftcard-content").click(function (e) {
        e.stopPropagation()
      }),
      $(document).click(function () {
        $(".giftcard-outer").addClass("hidden")
      }),
      e.stopPropagation(),
      e.preventDefault(),
      !1
  }),
    $(".giftcard-content .giftcard-close").click(function () {
      $(".giftcard-outer").addClass("hidden")
    }),
    giftcardApiFunctionality()
}
function giftcardApiFunctionality() {
  $("#giftcard_number, #giftcard_pincode").keyup(function () {
    var e = $(this).closest("form").find("#giftcard_number")
      , t = $(this).closest("form").find("#giftcard_pincode")
      , n = "";
    10 < e.val().length && (n = "fashioncheque"),
      $(".giftcard-logos img").each(function () {
        var e = $(this).attr("class");
        "" === n || e === n ? $(this).attr("src", "./assets/images/giftcards/" + e + ".png") : $(this).attr("src", "./assets/images/giftcards/" + e + "_gray.png")
      }),
      10 < e.val().length && 5 < t.val().length && (console.log("Do API Call"),
        $(".giftcard-logos .card-value").html("Saldo: &euro; 10,-"))
  })
}
$(function () {
  Math.random() < .5 ? $("#area-container").addClass("show-detailss") : $(".button.shopping-cart").remove(),
    Math.random() < .5 && $(".footer").addClass("mark-delivery");
  var e = Math.floor(4 * Math.random()) + 1;
  $(".payment-container .method-giftcard").hide().each(function () {
    --e ? $(this).remove() : $(this).show()
  }),
    validation(),
    translation(),
    paymentMethods(),
    dropdowns(),
    mobileMenu(),
    giftcards()
});
var dict = {
  "Achteraf betalen": {
    nl: "Achteraf betalen",
    en: "Pay after delivery",
    fr: "Post-paiement [?]"
  },
  "Afronden met AfterPay": {
    nl: "Afronden met AfterPay",
    en: "Finish with AfterPay",
    fr: "Terminer avec AfterPay"
  },
  "Automatische incasso": {
    nl: "Automatische incasso",
    en: "Automatic collection",
    fr: "Prélèvement automatique"
  },
  Annuleren: {
    nl: "Annuleren",
    en: "Cancel",
    fr: "Annuler"
  },
  "Bekijk winkelwagen": {
    nl: "Bekijk winkelwagen",
    en: "Check shopping cart",
    fr: "Voir le panier"
  },
  "Betaal direct de 1e termijn met iDEAL": {
    nl: "Betaal direct de 1e termijn met iDEAL",
    en: "Pay the first term directly with iDEAL",
    fr: "Payer le premier terme avec iDEAL"
  },
  Betaalmethodes: {
    nl: "Betaalmethodes",
    en: "Payment methods",
    fr: "Méthodes de paiement"
  },
  Betalen: {
    nl: "Betalen",
    en: "Pay",
    fr: "Payer"
  },
  "Betaling veilig verwerkt door pay.nl": {
    nl: "Betaling veilig verwerkt door pay.nl",
    en: "Payment securely processed by pay.nl",
    fr: "Paiement sécurisé effectué par pay.nl"
  },
  Cadeaukaart: {
    nl: "Cadeaukaart",
    en: "Gift card",
    fr: "Carte cadeau"
  },
  "Cadeaukaart inwisselen": {
    nl: "Cadeaukaart inwisselen",
    en: "Redeem gift card",
    fr: "Échanger une carte-cadeau"
  },
  Creditcard: {
    nl: "Creditcard",
    en: "Credit card",
    fr: "Carte de crédit"
  },
  "Eerste termijn": {
    nl: "Eerste termijn",
    en: "First term",
    fr: "Premier terme"
  },
  Geboortedatum: {
    nl: "Geboortedatum",
    en: "Date of birth",
    fr: "Date de naissance"
  },
  Inwisselen: {
    nl: "Inwisselen",
    en: "Redeem",
    fr: "Racheter"
  },
  Kaartnummer: {
    nl: "Kaartnummer",
    en: "Card number",
    fr: "Numéro de carte"
  },
  "Kies andere betaalmethode": {
    nl: "Kies andere betaalmethode",
    en: "Different payment method",
    fr: "Différent mode de paiement"
  },
  "Kies een bank": {
    nl: "Kies een bank",
    en: "Choose a bank",
    fr: "Choisissez un banque"
  },
  "Kies een betaalmethode": {
    nl: "Kies een betaalmethode",
    en: "Choose a payment method",
    fr: "Choisissez un mode de paiement"
  },
  "Kies je bank": {
    nl: "Kies je bank",
    en: "Choose your bank",
    fr: "Choisissez votre banque"
  },
  "Laatste termijn": {
    nl: "Laatste termijn",
    en: "Last term",
    fr: "Dernier terme"
  },
  "Levering gegarandeerd door pay.nl": {
    nl: "Levering gegarandeerd door pay.nl",
    en: "Delivery guaranteed by pay.nl",
    fr: "Livraison garantie par pay.nl"
  },
  "Naam zoals op de kaart staat": {
    nl: "Naam zoals op de kaart staat",
    en: "Name as on the card",
    fr: "Nom comme sur la carte"
  },
  "Of betaal direct met uw Bancontact App": {
    nl: "Of betaal direct met uw Bancontact App",
    en: "Or pay directly with your Bancontact App",
    fr: "Ou payez directement avec votre application Bancontact"
  },
  "Of betaal direct met uw bank App": {
    nl: "Of betaal direct met uw bank App",
    en: "Or pay directly with your bank App",
    fr: "Payez avec votre App bancaire"
  },
  Pincode: {
    nl: "Pincode",
    en: "Pin",
    fr: "Code PIN"
  },
  Productnaam: {
    nl: "Productnaam",
    en: "Product name",
    fr: "Nom du produit"
  },
  "Saldo kaart": {
    nl: "Saldo kaart",
    en: "Card balance",
    fr: "Carte solde"
  },
  Subtotaal: {
    nl: "Subtotaal",
    en: "Subtotal",
    fr: "Sous-total"
  },
  Telefoonnummer: {
    nl: "Telefoonnummer",
    en: "Telephone number",
    fr: "Numéro de téléphone"
  },
  Totaal: {
    nl: "Totaal",
    en: "Total",
    fr: "Total"
  },
  "Totaal te betalen": {
    nl: "Totaal te betalen",
    en: "Total amount to be paid",
    fr: "Total à payer"
  },
  "Tweede termijn": {
    nl: "Tweede termijn",
    en: "Second term",
    fr: "Deuxième terme"
  },
  Verzendkosten: {
    nl: "Verzendkosten",
    en: "Shipping costs",
    fr: "Frais d'expédition"
  },
  Volgende: {
    nl: "Volgende",
    en: "Next",
    fr: "Suivante"
  },
  "Vul geboortedatum in": {
    nl: "Vul geboortedatum in",
    en: "Enter date of birth",
    fr: "Entrez la date de naissance"
  },
  "Vul telefoonnummer in": {
    nl: "Vul telefoonnummer in",
    en: "Enter phone number",
    fr: "Entrez le numéro de téléphone"
  },
  "In 3 termijnen": {
    nl: "In 3 termijnen",
    en: "In three installments",
    fr: "In 3 termijnen [fr]"
  }
};
